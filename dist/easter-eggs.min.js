/**
 * easter-eggs
 * A simple script for adding the Konami Code easter egg to your site. Configurable to add your own patterns and callback functions in the case of match.
 * @version v1.2.0 - 2019-04-06
 * @link https://github.com/ajsoriar/easter-eggs
 * @author Andres J. Soria R. <ajsoriar@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){window.EasterEggs=function(){"use-strict";var PAINT_KEY=!1,PAINT_HISTORY=!1,arrOfKeys=[],elKey=null,elHistory=null,MAX_MEMORY=10,onKeyDownFunction=null,NO_KEY={code:"-",key:"-",keyCode:"-"},sequences=[{id:"konamy-code",sec:[38,38,40,40,37,39,37,39,65,66],callback:function(){}},{id:"andres",sec:[65,74,83,82],callback:function(){}}],checkMatch=function(){var i,j,lon2,okCont,p_arr_k,p_arr_sec,lon=sequences.length;for(i=0;lon>i;i++){if(lon2=sequences[i].sec.length,okCont=0,arrLen=arrOfKeys.length,arrLen>=lon2)for(j=1;lon2>=j;j++)p_arr_k=arrOfKeys[arrLen-j],p_arr_sec=sequences[i].sec[lon2-j],p_arr_k===p_arr_sec&&okCont++;if(okCont===lon2)return null!=sequences[i].callback&&sequences[i].callback(),resetKeyDisplay(),1}return 0},pressKey=function(ev){if(arrOfKeys.length<=MAX_MEMORY)arrOfKeys.push(ev.keyCode);else{for(j=0;j<MAX_MEMORY;j++)arrOfKeys[j]=arrOfKeys[j+1];arrOfKeys[MAX_MEMORY]=ev.keyCode}paintKey(ev),paintHistory();var match=checkMatch();null!=onKeyDownFunction&&onKeyDownFunction(match)},addSequence=function(id,arr,callback){null===id&&(id=Date.now()),null===arr&&(arr=[]),null===callback&&(callback=function(){}),sequences.push({id:id,sec:arr,callback:callback})},paintKey=function(k){if(PAINT_KEY){elKey||createKeyDomEl();var str='<div style="background-color: #F44336;width: 100px;height: 67px;border-radius: 7px;position: absolute;right: 0;bottom: 0;text-align: center; font-family: sans-serif; border: 1px solid saddlebrown;"><div style="padding-top: 5px;color: white;font-weight: bold;font-size: 11px;">'+k.code+'</div><div style="padding-top: 5px;color: white;font-weight: bold;font-size: 14px; color: #FFEB3B">'+k.key+'</div><div style="padding-top: 5px;color: white;font-weight: bold;font-size: 14px; color: #CDDC39">'+k.keyCode+"</div></div>";elKey.innerHTML=str}},paintHistory=function(k){if(PAINT_HISTORY){elHistory||createHistoryDomEl();for(var codes="",i=0;i<arrOfKeys.length;i++)codes+=arrOfKeys[i]+",";var str='<div style="background-color: #a9ef58;padding: 3px;border-radius: 7px;position: absolute;right: 0;bottom: 68px;text-align: center; font-family: sans-serif; border: 1px solid saddlebrown;">'+codes+"</div>";elHistory.innerHTML=str}},createKeyDomEl=function(){elKey||(elKey=document.createElement("div")),elKey.setAttribute("id","ee-key"),document.body.appendChild(elKey)},createHistoryDomEl=function(){elHistory||(elHistory=document.createElement("div")),elHistory.setAttribute("id","ee-history"),document.body.appendChild(elHistory)},resetKeyDisplay=function(){paintKey(NO_KEY)},hideEE=function(){PAINT_KEY=!1,PAINT_HISTORY=!1,elKey.innerHTML="",elHistory.innerHTML=""},showEE=function(){PAINT_KEY=!0,PAINT_HISTORY=!0,createKeyDomEl(),createHistoryDomEl(),resetKeyDisplay()},reset=function(){sequences=[]};return{elKey:elKey,elHistory:elHistory,pressKey:function(ev){pressKey(ev)},reset:function(){reset()},addSequence:function(id,arr,callback){addSequence(id,arr,callback)},printList:function(){var i,lon=sequences.length,str="";for(i=0;lon>i;i++)str=sequences[i].id+"; ["+sequences[i].sec+"] "+sequences[i].callback},paintKey:function(val){PAINT_KEY=0===val?!1:!0},hide:function(){hideEE()},show:function(){showEE()},onKeyDown:function(fn){onKeyDownFunction=fn}}}(),window.addEventListener("keydown",function(e){window.EasterEggs.pressKey(e)})}();